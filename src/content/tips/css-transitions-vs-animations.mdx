---
title: CSS TransitionとAnimationの使い分けガイド
description: transitionとanimationの違いを理解し、適切な場面で使い分ける実践的な方法
tags: [css, animation, transition, best-practices]
category: animation
level: basic
date: 2025-11-11
---

import LiveDemo from '../../components/LiveDemo.astro';

## Transition と Animation の違い

CSS には2つのアニメーション手法があります：

- **Transition**: 状態変化を滑らかにする（A → B）
- **Animation**: 複雑なキーフレームアニメーション（A → B → C → D...）

どちらを使うべきか迷ったら、まずはシンプルな Transition から検討しましょう。

<LiveDemo
  title="Transition vs Animation の基本"
  height="550px"
  html={`
<div class="comparison-demo">
  <div class="demo-card">
    <h3>CSS Transition</h3>
    <p class="subtitle">ホバーで状態が変化</p>
    <div class="demo-area">
      <div class="box transition-box">
        ホバーしてください
      </div>
    </div>
    <div class="code-label">transition: all 0.3s ease</div>
    <ul class="features">
      <li>✓ シンプルで直感的</li>
      <li>✓ トリガーが必要（:hover, :focus など）</li>
      <li>✓ 2つの状態間の変化</li>
    </ul>
  </div>

  <div class="demo-card">
    <h3>CSS Animation</h3>
    <p class="subtitle">自動的にループ</p>
    <div class="demo-area">
      <div class="box animation-box">
        自動再生
      </div>
    </div>
    <div class="code-label">animation: pulse 2s infinite</div>
    <ul class="features">
      <li>✓ 複雑な動きが可能</li>
      <li>✓ 自動再生できる</li>
      <li>✓ 複数のキーフレーム</li>
    </ul>
  </div>
</div>
  `}
  css={`
.comparison-demo {
  max-width: 700px;
  margin: 0 auto;
  padding: 1.5rem;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
}

.demo-card {
  background: #1f2a37;
  border-radius: 8px;
  padding: 1.5rem;
}

.demo-card h3 {
  font-size: 1.125rem;
  color: #e5edf4;
  margin: 0 0 0.25rem 0;
}

.subtitle {
  font-size: 0.875rem;
  color: #9ca3af;
  margin: 0 0 1rem 0;
}

.demo-area {
  background: #0c1218;
  border-radius: 6px;
  padding: 2rem;
  margin-bottom: 1rem;
  min-height: 120px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.box {
  width: 120px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
  color: white;
  font-weight: 600;
  font-size: 0.875rem;
  cursor: pointer;
  text-align: center;
}

.transition-box {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  transition: all 0.3s ease;
}

.transition-box:hover {
  transform: scale(1.2) rotate(5deg);
  box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
}

.animation-box {
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  animation: pulse 2s cubic-bezier(0.4, 0.0, 0.2, 1) infinite;
}

@keyframes pulse {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 4px 12px rgba(240, 147, 251, 0.4);
  }
  50% {
    transform: scale(1.1);
    box-shadow: 0 8px 24px rgba(240, 147, 251, 0.6);
  }
}

.code-label {
  background: #0c1218;
  border-radius: 4px;
  padding: 0.5rem;
  font-family: 'Courier New', monospace;
  font-size: 0.75rem;
  color: #10b981;
  margin-bottom: 1rem;
  text-align: center;
}

.features {
  list-style: none;
  padding: 0;
  margin: 0;
}

.features li {
  font-size: 0.875rem;
  color: #9ca3af;
  padding: 0.25rem 0;
}

@media (max-width: 640px) {
  .comparison-demo {
    grid-template-columns: 1fr;
  }
}
  `}
/>

## CSS Transition の使い方

### 基本構文

```css
.element {
  /* transition: プロパティ 時間 イージング 遅延; */
  transition: transform 0.3s ease-out;
}

.element:hover {
  transform: scale(1.1);
}
```

### 複数のプロパティを指定

```css
/* 個別指定 */
.element {
  transition: transform 0.3s ease-out,
              opacity 0.3s ease-out,
              background-color 0.2s ease;
}

/* すべてのプロパティ（パフォーマンスに注意） */
.element {
  transition: all 0.3s ease-out;
}
```

<LiveDemo
  title="Transition の実践例"
  height="600px"
  html={`
<div class="transition-examples">
  <div class="example-grid">
    <div class="example-item">
      <h4>ボタンホバー</h4>
      <button class="btn-example btn-hover">
        ホバーエフェクト
      </button>
    </div>

    <div class="example-item">
      <h4>カード拡大</h4>
      <div class="card-example">
        <div class="card-content">
          <p>ホバーで拡大</p>
        </div>
      </div>
    </div>

    <div class="example-item">
      <h4>画像ズーム</h4>
      <div class="image-container">
        <div class="image-zoom"></div>
        <div class="overlay">クリックで拡大</div>
      </div>
    </div>

    <div class="example-item">
      <h4>メニュー展開</h4>
      <div class="menu-toggle">
        <button class="menu-btn" id="menuBtn">メニュー ▼</button>
        <div class="menu-dropdown" id="menuDropdown">
          <a href="#">項目 1</a>
          <a href="#">項目 2</a>
          <a href="#">項目 3</a>
        </div>
      </div>
    </div>

    <div class="example-item">
      <h4>プログレスバー</h4>
      <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
      </div>
      <button class="btn-example btn-small" id="progressBtn">読み込み開始</button>
    </div>

    <div class="example-item">
      <h4>トグルスイッチ</h4>
      <label class="toggle-switch">
        <input type="checkbox" id="toggleInput">
        <span class="toggle-slider"></span>
      </label>
    </div>
  </div>
</div>
  `}
  css={`
.transition-examples {
  max-width: 700px;
  margin: 0 auto;
  padding: 1.5rem;
}

.example-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1.5rem;
}

.example-item {
  background: #1f2a37;
  border-radius: 8px;
  padding: 1.5rem;
}

.example-item h4 {
  font-size: 0.875rem;
  color: #9ca3af;
  margin: 0 0 1rem 0;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.btn-example {
  padding: 0.75rem 1.5rem;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border: none;
  border-radius: 6px;
  color: white;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
}

.btn-hover:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
}

.btn-hover:active {
  transform: translateY(0);
}

.btn-small {
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
}

.card-example {
  background: #0c1218;
  border-radius: 6px;
  overflow: hidden;
  cursor: pointer;
  transition: transform 0.3s ease-out;
}

.card-example:hover {
  transform: scale(1.05);
}

.card-content {
  padding: 2rem;
  text-align: center;
  color: #e5edf4;
}

.card-content p {
  margin: 0;
  font-size: 0.875rem;
}

.image-container {
  position: relative;
  width: 100%;
  height: 120px;
  border-radius: 6px;
  overflow: hidden;
  cursor: pointer;
}

.image-zoom {
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  transition: transform 0.5s ease-out;
}

.image-container:hover .image-zoom {
  transform: scale(1.2);
}

.overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 0.875rem;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.image-container:hover .overlay {
  opacity: 1;
}

.menu-toggle {
  position: relative;
}

.menu-btn {
  width: 100%;
  padding: 0.75rem;
  background: #374151;
  border: 1px solid #4b5563;
  border-radius: 6px;
  color: #e5edf4;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s;
}

.menu-btn:hover {
  background: #4b5563;
}

.menu-dropdown {
  position: absolute;
  top: calc(100% + 0.5rem);
  left: 0;
  right: 0;
  background: #374151;
  border: 1px solid #4b5563;
  border-radius: 6px;
  overflow: hidden;
  max-height: 0;
  opacity: 0;
  transition: max-height 0.3s ease, opacity 0.3s ease;
}

.menu-dropdown.active {
  max-height: 200px;
  opacity: 1;
}

.menu-dropdown a {
  display: block;
  padding: 0.75rem;
  color: #e5edf4;
  text-decoration: none;
  transition: background 0.2s;
}

.menu-dropdown a:hover {
  background: #4b5563;
}

.progress-container {
  width: 100%;
  height: 8px;
  background: #0c1218;
  border-radius: 4px;
  overflow: hidden;
  margin-bottom: 1rem;
}

.progress-bar {
  height: 100%;
  width: 0;
  background: linear-gradient(90deg, #10b981 0%, #059669 100%);
  transition: width 2s cubic-bezier(0.4, 0.0, 0.2, 1);
}

.progress-bar.loading {
  width: 100%;
}

.toggle-switch {
  position: relative;
  display: inline-block;
  width: 60px;
  height: 34px;
}

.toggle-switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.toggle-slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #374151;
  transition: background-color 0.3s;
  border-radius: 34px;
}

.toggle-slider:before {
  position: absolute;
  content: "";
  height: 26px;
  width: 26px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  transition: transform 0.3s;
  border-radius: 50%;
}

input:checked + .toggle-slider {
  background-color: #10b981;
}

input:checked + .toggle-slider:before {
  transform: translateX(26px);
}

@media (max-width: 640px) {
  .example-grid {
    grid-template-columns: 1fr;
  }
}
  `}
  js={`
const menuBtn = document.getElementById('menuBtn');
const menuDropdown = document.getElementById('menuDropdown');
const progressBtn = document.getElementById('progressBtn');
const progressBar = document.getElementById('progressBar');

menuBtn.addEventListener('click', () => {
  menuDropdown.classList.toggle('active');
});

progressBtn.addEventListener('click', () => {
  progressBar.classList.remove('loading');
  void progressBar.offsetWidth; // リフロー強制
  progressBar.classList.add('loading');

  setTimeout(() => {
    progressBar.classList.remove('loading');
  }, 2000);
});
  `}
/>

## CSS Animation の使い方

### 基本構文

```css
/* キーフレームを定義 */
@keyframes slidein {
  from {
    transform: translateX(-100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

/* アニメーションを適用 */
.element {
  animation: slidein 0.5s ease-out;
}
```

### 詳細な制御

```css
.element {
  animation-name: slidein;
  animation-duration: 0.5s;
  animation-timing-function: ease-out;
  animation-delay: 0.2s;
  animation-iteration-count: infinite; /* または数値 */
  animation-direction: normal; /* reverse, alternate, alternate-reverse */
  animation-fill-mode: forwards; /* backwards, both */
  animation-play-state: running; /* paused */
}

/* 短縮形 */
.element {
  animation: slidein 0.5s ease-out 0.2s infinite normal forwards;
}
```

<LiveDemo
  title="Animation の実践例"
  height="650px"
  html={`
<div class="animation-examples">
  <div class="anim-grid">
    <div class="anim-item">
      <h4>ローディングスピナー</h4>
      <div class="spinner-container">
        <div class="spinner"></div>
      </div>
    </div>

    <div class="anim-item">
      <h4>パルスエフェクト</h4>
      <div class="pulse-container">
        <div class="pulse-dot"></div>
      </div>
    </div>

    <div class="anim-item">
      <h4>バウンス</h4>
      <div class="bounce-container">
        <div class="bounce-ball"></div>
      </div>
    </div>

    <div class="anim-item">
      <h4>フェードインアップ</h4>
      <div class="fadein-container">
        <div class="fadein-box">
          アニメーション
        </div>
      </div>
    </div>

    <div class="anim-item">
      <h4>シマーエフェクト</h4>
      <div class="shimmer-container">
        <div class="shimmer-box"></div>
      </div>
    </div>

    <div class="anim-item">
      <h4>タイピング効果</h4>
      <div class="typing-container">
        <div class="typing-text">Hello, World!</div>
      </div>
    </div>
  </div>

  <div class="controls-section">
    <button class="control-btn" id="pauseBtn">一時停止</button>
    <button class="control-btn" id="playBtn">再生</button>
  </div>
</div>
  `}
  css={`
.animation-examples {
  max-width: 700px;
  margin: 0 auto;
  padding: 1.5rem;
}

.anim-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.anim-item {
  background: #1f2a37;
  border-radius: 8px;
  padding: 1.5rem;
}

.anim-item h4 {
  font-size: 0.875rem;
  color: #9ca3af;
  margin: 0 0 1rem 0;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* ローディングスピナー */
.spinner-container {
  display: flex;
  justify-content: center;
  padding: 1.5rem;
}

.spinner {
  width: 40px;
  height: 40px;
  border: 4px solid #374151;
  border-top-color: #10b981;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* パルス */
.pulse-container {
  display: flex;
  justify-content: center;
  padding: 1.5rem;
}

.pulse-dot {
  width: 40px;
  height: 40px;
  background: #10b981;
  border-radius: 50%;
  position: relative;
  animation: pulse-anim 2s ease-in-out infinite;
}

.pulse-dot::before,
.pulse-dot::after {
  content: '';
  position: absolute;
  inset: -10px;
  border: 2px solid #10b981;
  border-radius: 50%;
  opacity: 0;
  animation: pulse-ring 2s ease-out infinite;
}

.pulse-dot::after {
  animation-delay: 1s;
}

@keyframes pulse-anim {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

@keyframes pulse-ring {
  0% {
    transform: scale(0.8);
    opacity: 1;
  }
  100% {
    transform: scale(1.8);
    opacity: 0;
  }
}

/* バウンス */
.bounce-container {
  display: flex;
  justify-content: center;
  align-items: flex-end;
  height: 100px;
  padding: 1rem;
}

.bounce-ball {
  width: 40px;
  height: 40px;
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  border-radius: 50%;
  animation: bounce 1s cubic-bezier(0.28, 0.84, 0.42, 1) infinite;
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-60px); }
}

/* フェードインアップ */
.fadein-container {
  display: flex;
  justify-content: center;
  padding: 1.5rem;
}

.fadein-box {
  padding: 1rem 2rem;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 6px;
  color: white;
  font-weight: 600;
  animation: fadeInUp 1s ease-out infinite;
}

@keyframes fadeInUp {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  50%, 100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* シマー */
.shimmer-container {
  padding: 1rem;
}

.shimmer-box {
  width: 100%;
  height: 60px;
  background: linear-gradient(
    90deg,
    #374151 0%,
    #4b5563 50%,
    #374151 100%
  );
  background-size: 200% 100%;
  border-radius: 6px;
  animation: shimmer 2s ease-in-out infinite;
}

@keyframes shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* タイピング */
.typing-container {
  display: flex;
  justify-content: center;
  padding: 1.5rem;
}

.typing-text {
  font-family: 'Courier New', monospace;
  color: #10b981;
  font-size: 1.125rem;
  font-weight: 600;
  border-right: 2px solid #10b981;
  white-space: nowrap;
  overflow: hidden;
  width: 0;
  animation: typing 3s steps(13) infinite;
}

@keyframes typing {
  0%, 100% { width: 0; }
  50%, 90% { width: 100%; }
}

.controls-section {
  background: #1f2a37;
  border-radius: 8px;
  padding: 1.5rem;
  display: flex;
  gap: 1rem;
}

.control-btn {
  flex: 1;
  padding: 0.75rem;
  background: #374151;
  border: 1px solid #4b5563;
  border-radius: 6px;
  color: #e5edf4;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s;
}

.control-btn:hover {
  background: #4b5563;
}

@media (max-width: 640px) {
  .anim-grid {
    grid-template-columns: 1fr;
  }
}

.anim-item.paused * {
  animation-play-state: paused !important;
}
  `}
  js={`
const pauseBtn = document.getElementById('pauseBtn');
const playBtn = document.getElementById('playBtn');
const animItems = document.querySelectorAll('.anim-item');

pauseBtn.addEventListener('click', () => {
  animItems.forEach(item => item.classList.add('paused'));
});

playBtn.addEventListener('click', () => {
  animItems.forEach(item => item.classList.remove('paused'));
});
  `}
/>

## 使い分けのガイドライン

### Transition を使うべき場合

- ホバー、フォーカス、クリックなどのインタラクション
- 2つの状態間の変化（開く/閉じる、表示/非表示）
- シンプルな UI フィードバック

```css
/* 良い例 */
button {
  transition: background 0.2s, transform 0.2s;
}

button:hover {
  background: #4b5563;
  transform: translateY(-2px);
}
```

### Animation を使うべき場合

- 自動再生が必要（ローディングスピナーなど）
- 複数のステップがある複雑な動き
- ループアニメーション
- キーフレーム制御が必要

```css
/* 良い例 */
.loader {
  animation: spin 1s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
```

## パフォーマンスのベストプラクティス

### 1. GPU アクセラレーションを活用

```css
/* ✅ 高速: transform と opacity のみ */
.element {
  transition: transform 0.3s, opacity 0.3s;
}

/* ❌ 低速: layout に影響するプロパティ */
.element {
  transition: width 0.3s, height 0.3s;
}
```

### 2. will-change を適切に使用

```css
/* ホバー時のみ適用 */
.element:hover {
  will-change: transform;
}

.element {
  transition: transform 0.3s;
}
```

### 3. 不要なアニメーションを停止

```javascript
// タブが非表示の時にアニメーションを停止
document.addEventListener('visibilitychange', () => {
  if (document.hidden) {
    document.body.classList.add('paused');
  } else {
    document.body.classList.remove('paused');
  }
});
```

```css
.paused * {
  animation-play-state: paused !important;
}
```

## アクセシビリティへの配慮

```css
/* アニメーションを無効化する設定を尊重 */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
```

## よくある間違い

### 1. すべてのプロパティに transition を適用

```css
/* ❌ 悪い例: パフォーマンスに悪影響 */
.element {
  transition: all 0.3s;
}

/* ✅ 良い例: 必要なプロパティのみ */
.element {
  transition: transform 0.3s, opacity 0.3s;
}
```

### 2. 長すぎる animation-duration

```css
/* ❌ 悪い例: ユーザーを待たせる */
.modal {
  animation: fadeIn 2s;
}

/* ✅ 良い例: 素早く快適 */
.modal {
  animation: fadeIn 0.3s;
}
```

### 3. animation-fill-mode の誤用

```css
/* ❌ 悪い例: アニメーション終了後に戻る */
.element {
  animation: slideIn 0.5s;
}

/* ✅ 良い例: 終了状態を維持 */
.element {
  animation: slideIn 0.5s forwards;
}
```

## まとめ

### Transition vs Animation の選択基準

| 項目 | Transition | Animation |
|------|------------|-----------|
| **用途** | インタラクション | 自動再生 |
| **複雑さ** | シンプル（A → B） | 複雑（A → B → C...） |
| **トリガー** | 状態変化が必要 | 自動実行可能 |
| **制御** | 基本的な制御 | 詳細な制御 |
| **パフォーマンス** | 同等 | 同等 |

### ベストプラクティス

- [ ] Transition を最優先で検討
- [ ] transform と opacity のみでアニメーション
- [ ] animation-duration は 0.2s 〜 0.5s が最適
- [ ] will-change は必要な時だけ
- [ ] prefers-reduced-motion に対応
- [ ] DevTools でパフォーマンスを確認

## 参考リンク

- [CSS Transitions - MDN](https://developer.mozilla.org/ja/docs/Web/CSS/CSS_Transitions)
- [CSS Animations - MDN](https://developer.mozilla.org/ja/docs/Web/CSS/CSS_Animations)
- [CSS Triggers](https://csstriggers.com/) - プロパティのパフォーマンス影響
