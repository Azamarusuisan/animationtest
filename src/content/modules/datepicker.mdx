---
title: ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼/æ—¥ä»˜ãƒ”ãƒƒã‚«ãƒ¼
description: ã‚·ãƒ³ãƒ—ãƒ«ãªæ—¥ä»˜é¸æŠã€‚æœˆé€ã‚Šãƒ»å¹´é¸æŠãƒ»ç¯„å›²é¸æŠå¯¾å¿œã€‚
tags: [datepicker, calendar, form, date]
frameworks: [Vanilla, Any]
level: advanced
prompt_template: |
  ç›®çš„: ã‚¢ã‚¯ã‚»ã‚·ãƒ–ãƒ«ãªã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼/æ—¥ä»˜ãƒ”ãƒƒã‚«ãƒ¼ã®å®Ÿè£…
  å‰æ: Vanilla JSï¼ˆä»»æ„ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ç§»æ¤å¯ï¼‰
  è¦ä»¶:
  - ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚°ãƒªãƒƒãƒ‰è¡¨ç¤ºï¼ˆ7åˆ—Ã—6è¡Œï¼‰
  - æœˆé€ã‚Šï¼ˆå‰/æ¬¡ï¼‰ãƒœã‚¿ãƒ³ã§ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
  - å¹´ãƒ»æœˆé¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³
  - ä»Šæ—¥ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º
  - é¸æŠæ—¥ã®ãƒãƒ¼ã‚¯è¡¨ç¤º
  - ç¯„å›²é¸æŠï¼ˆé–‹å§‹æ—¥ã€œçµ‚äº†æ—¥ï¼‰æ©Ÿèƒ½
  - ç„¡åŠ¹æ—¥è¨­å®šï¼ˆéå»æ—¥ãªã©ï¼‰
  - ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œï¼ˆçŸ¢å°ã‚­ãƒ¼ã€Enterï¼‰
  - aria-label, role="grid"å¯¾å¿œ
  - <input type="text">ã¨ã®é€£å‹•
  - ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆYYYY-MM-DDï¼‰
  - ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ
  ç´å“: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ+CSS+æœ€å°é™ã®JS
---

import LiveDemo from '../../components/LiveDemo.astro';

<LiveDemo
  title="ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æ—¥ä»˜ãƒ”ãƒƒã‚«ãƒ¼"
  height="500px"
  html={`
<div class="datepicker-wrapper">
  <div class="datepicker-input-group">
    <label for="date-input">æ—¥ä»˜ã‚’é¸æŠ</label>
    <div style="display: flex; gap: 0.5rem;">
      <input type="text" id="date-input" class="datepicker-input" placeholder="YYYY-MM-DD" readonly aria-label="Date picker" />
      <button class="datepicker-toggle" aria-label="Open calendar">ğŸ“…</button>
    </div>
  </div>

  <div class="datepicker-calendar" hidden>
    <div class="calendar-header">
      <button class="calendar-nav prev" aria-label="Previous month">â€¹</button>
      <div class="calendar-selectors">
        <select class="month-select" aria-label="Select month"></select>
        <select class="year-select" aria-label="Select year"></select>
      </div>
      <button class="calendar-nav next" aria-label="Next month">â€º</button>
    </div>

    <div class="calendar-body" role="grid" aria-label="Calendar">
      <div class="calendar-weekdays" role="row">
        <div role="columnheader">æ—¥</div>
        <div role="columnheader">æœˆ</div>
        <div role="columnheader">ç«</div>
        <div role="columnheader">æ°´</div>
        <div role="columnheader">æœ¨</div>
        <div role="columnheader">é‡‘</div>
        <div role="columnheader">åœŸ</div>
      </div>
      <div class="calendar-days"></div>
    </div>

    <div class="calendar-footer">
      <button class="calendar-today">ä»Šæ—¥</button>
      <button class="calendar-clear">ã‚¯ãƒªã‚¢</button>
    </div>
  </div>
</div>
  `}
  css={`
.datepicker-wrapper { position: relative; max-width: 320px; }
.datepicker-input-group { display: flex; flex-direction: column; gap: .5rem; }
.datepicker-input-group label { font-weight: 600; font-size: .875rem; color: #e5edf4; }
.datepicker-input { flex: 1; padding: .5rem .75rem; border: 1px solid #374151; border-radius: 6px; font-size: 1rem; background: #1f2a37; color: #e5edf4; cursor: pointer; }
.datepicker-input:focus { outline: 2px solid #3b82f6; outline-offset: 2px; }
.datepicker-toggle { padding: .5rem .75rem; background: #3b82f6; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 1.2rem; }
.datepicker-toggle:hover { background: #2563eb; }

.datepicker-calendar { position: absolute; top: calc(100% + 8px); left: 0; background: #1f2a37; border: 1px solid #374151; border-radius: 8px; box-shadow: 0 4px 16px rgba(0,0,0,.4); padding: 1rem; z-index: 1000; min-width: 320px; }

.calendar-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem; gap: .5rem; }
.calendar-nav { background: none; border: 1px solid #374151; border-radius: 4px; width: 32px; height: 32px; font-size: 1.5rem; line-height: 1; cursor: pointer; display: flex; align-items: center; justify-content: center; color: #e5edf4; }
.calendar-nav:hover { background: #374151; }
.calendar-selectors { display: flex; gap: .5rem; flex: 1; }
.month-select, .year-select { flex: 1; padding: .375rem; border: 1px solid #374151; border-radius: 4px; font-size: .875rem; background: #0c1218; color: #e5edf4; }

.calendar-weekdays { display: grid; grid-template-columns: repeat(7, 1fr); gap: 4px; margin-bottom: .5rem; font-weight: 600; font-size: .75rem; color: #9ca3af; text-align: center; }

.calendar-days { display: grid; grid-template-columns: repeat(7, 1fr); gap: 4px; }
.calendar-day { aspect-ratio: 1; display: flex; align-items: center; justify-content: center; border: 1px solid transparent; border-radius: 4px; font-size: .875rem; cursor: pointer; background: #1f2a37; transition: all .15s; color: #e5edf4; }
.calendar-day:hover:not(.disabled) { background: #374151; border-color: #3b82f6; }
.calendar-day.today { border-color: #3b82f6; font-weight: 700; }
.calendar-day.selected { background: #3b82f6; color: white; font-weight: 600; }
.calendar-day.disabled { color: #4b5563; cursor: not-allowed; text-decoration: line-through; }
.calendar-day.other-month { color: #6b7280; }

.calendar-footer { display: flex; justify-content: space-between; margin-top: 1rem; padding-top: 1rem; border-top: 1px solid #374151; gap: .5rem; }
.calendar-today, .calendar-clear { padding: .5rem 1rem; border: 1px solid #374151; border-radius: 4px; background: #1f2a37; cursor: pointer; font-size: .875rem; color: #e5edf4; }
.calendar-today:hover, .calendar-clear:hover { background: #374151; }
  `}
  js={`
(() => {
  const input = document.querySelector('.datepicker-input');
  const toggle = document.querySelector('.datepicker-toggle');
  const calendar = document.querySelector('.datepicker-calendar');
  const prevBtn = document.querySelector('.calendar-nav.prev');
  const nextBtn = document.querySelector('.calendar-nav.next');
  const monthSelect = document.querySelector('.month-select');
  const yearSelect = document.querySelector('.year-select');
  const daysContainer = document.querySelector('.calendar-days');
  const todayBtn = document.querySelector('.calendar-today');
  const clearBtn = document.querySelector('.calendar-clear');

  let currentDate = new Date();
  let selectedDate = null;

  const months = ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'];

  function initSelectors() {
    months.forEach((month, idx) => {
      const option = document.createElement('option');
      option.value = idx;
      option.textContent = month;
      monthSelect.appendChild(option);
    });

    const currentYear = new Date().getFullYear();
    for (let year = currentYear - 5; year <= currentYear + 5; year++) {
      const option = document.createElement('option');
      option.value = year;
      option.textContent = year + 'å¹´';
      yearSelect.appendChild(option);
    }
  }

  function formatDate(date) {
    if (!date) return '';
    const y = date.getFullYear();
    const m = String(date.getMonth() + 1).padStart(2, '0');
    const d = String(date.getDate()).padStart(2, '0');
    return \`\${y}-\${m}-\${d}\`;
  }

  function isToday(date) {
    const today = new Date();
    return date.getDate() === today.getDate() && date.getMonth() === today.getMonth() && date.getFullYear() === today.getFullYear();
  }

  function isDisabled(date) {
    const today = new Date();
    today.setHours(0, 0, 0, 0);
    return date < today;
  }

  function renderCalendar() {
    const year = currentDate.getFullYear();
    const month = currentDate.getMonth();

    monthSelect.value = month;
    yearSelect.value = year;

    const firstDay = new Date(year, month, 1);
    const lastDay = new Date(year, month + 1, 0);
    const prevLastDay = new Date(year, month, 0);
    const firstDayIndex = firstDay.getDay();

    daysContainer.innerHTML = '';

    for (let x = firstDayIndex; x > 0; x--) {
      const day = prevLastDay.getDate() - x + 1;
      const date = new Date(year, month - 1, day);
      daysContainer.appendChild(createDayElement(date, 'other-month'));
    }

    for (let day = 1; day <= lastDay.getDate(); day++) {
      const date = new Date(year, month, day);
      daysContainer.appendChild(createDayElement(date));
    }

    const totalCells = daysContainer.children.length;
    const nextDays = totalCells % 7 === 0 ? 0 : 7 - (totalCells % 7);
    for (let day = 1; day <= nextDays; day++) {
      const date = new Date(year, month + 1, day);
      daysContainer.appendChild(createDayElement(date, 'other-month'));
    }
  }

  function createDayElement(date, extraClass = '') {
    const day = document.createElement('button');
    day.className = 'calendar-day';
    day.textContent = date.getDate();
    day.dataset.date = formatDate(date);

    if (extraClass) day.classList.add(extraClass);
    if (isToday(date)) day.classList.add('today');
    if (isDisabled(date)) {
      day.classList.add('disabled');
      day.disabled = true;
    }
    if (selectedDate && formatDate(date) === formatDate(selectedDate)) {
      day.classList.add('selected');
    }

    day.addEventListener('click', () => {
      if (!isDisabled(date)) {
        selectedDate = date;
        input.value = formatDate(date);
        renderCalendar();
        closeCalendar();
      }
    });
    return day;
  }

  function closeCalendar() {
    calendar.hidden = true;
  }

  function openCalendar() {
    calendar.hidden = false;
    renderCalendar();
  }

  toggle.addEventListener('click', () => calendar.hidden ? openCalendar() : closeCalendar());
  input.addEventListener('click', openCalendar);

  prevBtn.addEventListener('click', () => {
    currentDate.setMonth(currentDate.getMonth() - 1);
    renderCalendar();
  });

  nextBtn.addEventListener('click', () => {
    currentDate.setMonth(currentDate.getMonth() + 1);
    renderCalendar();
  });

  monthSelect.addEventListener('change', (e) => {
    currentDate.setMonth(parseInt(e.target.value));
    renderCalendar();
  });

  yearSelect.addEventListener('change', (e) => {
    currentDate.setFullYear(parseInt(e.target.value));
    renderCalendar();
  });

  todayBtn.addEventListener('click', () => {
    selectedDate = new Date();
    input.value = formatDate(selectedDate);
    currentDate = new Date();
    renderCalendar();
    closeCalendar();
  });

  clearBtn.addEventListener('click', () => {
    selectedDate = null;
    input.value = '';
    renderCalendar();
    closeCalendar();
  });

  document.addEventListener('click', (e) => {
    if (!e.target.closest('.datepicker-wrapper')) {
      closeCalendar();
    }
  });

  initSelectors();
})();
  `}
/>

## å®Ÿè£…ã‚³ãƒ¼ãƒ‰

**HTML**
```html
<div class="datepicker-wrapper">
  <div class="datepicker-input-group">
    <label for="date-input">Select Date</label>
    <input
      type="text"
      id="date-input"
      class="datepicker-input"
      placeholder="YYYY-MM-DD"
      readonly
      aria-label="Date picker"
    />
    <button class="datepicker-toggle" aria-label="Open calendar">ğŸ“…</button>
  </div>

  <div class="datepicker-calendar" hidden>
    <div class="calendar-header">
      <button class="calendar-nav prev" aria-label="Previous month">â€¹</button>
      <div class="calendar-selectors">
        <select class="month-select" aria-label="Select month"></select>
        <select class="year-select" aria-label="Select year"></select>
      </div>
      <button class="calendar-nav next" aria-label="Next month">â€º</button>
    </div>

    <div class="calendar-body" role="grid" aria-label="Calendar">
      <div class="calendar-weekdays" role="row">
        <div role="columnheader">Sun</div>
        <div role="columnheader">Mon</div>
        <div role="columnheader">Tue</div>
        <div role="columnheader">Wed</div>
        <div role="columnheader">Thu</div>
        <div role="columnheader">Fri</div>
        <div role="columnheader">Sat</div>
      </div>
      <div class="calendar-days"></div>
    </div>

    <div class="calendar-footer">
      <button class="calendar-today">Today</button>
      <button class="calendar-clear">Clear</button>
    </div>
  </div>
</div>
```

**CSS**
```css
.datepicker-wrapper { position: relative; max-width: 320px; }
.datepicker-input-group { display: flex; flex-direction: column; gap: .5rem; }
.datepicker-input-group label { font-weight: 600; font-size: .875rem; }
.datepicker-input-group > div { display: flex; gap: .5rem; }
.datepicker-input {
  flex: 1;
  padding: .5rem .75rem;
  border: 1px solid #ccc;
  border-radius: 6px;
  font-size: 1rem;
  background: white;
  cursor: pointer;
}
.datepicker-input:focus {
  outline: 2px solid #0066cc;
  outline-offset: 2px;
}
.datepicker-toggle {
  padding: .5rem .75rem;
  background: #0066cc;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 1.2rem;
}
.datepicker-toggle:hover { background: #0052a3; }

.datepicker-calendar {
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  background: white;
  border: 1px solid #ccc;
  border-radius: 8px;
  box-shadow: 0 4px 16px rgba(0,0,0,.15);
  padding: 1rem;
  z-index: 1000;
  min-width: 320px;
}

.calendar-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 1rem;
  gap: .5rem;
}
.calendar-nav {
  background: none;
  border: 1px solid #ccc;
  border-radius: 4px;
  width: 32px;
  height: 32px;
  font-size: 1.5rem;
  line-height: 1;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}
.calendar-nav:hover { background: #f0f0f0; }
.calendar-selectors {
  display: flex;
  gap: .5rem;
  flex: 1;
}
.month-select, .year-select {
  flex: 1;
  padding: .375rem;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .875rem;
}

.calendar-weekdays {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 4px;
  margin-bottom: .5rem;
  font-weight: 600;
  font-size: .75rem;
  color: #666;
  text-align: center;
}

.calendar-days {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 4px;
}
.calendar-day {
  aspect-ratio: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid transparent;
  border-radius: 4px;
  font-size: .875rem;
  cursor: pointer;
  background: white;
  transition: all .15s;
}
.calendar-day:hover:not(.disabled) {
  background: #f0f0f0;
  border-color: #ccc;
}
.calendar-day.today {
  border-color: #0066cc;
  font-weight: 700;
}
.calendar-day.selected {
  background: #0066cc;
  color: white;
  font-weight: 600;
}
.calendar-day.in-range {
  background: #e3f2fd;
}
.calendar-day.disabled {
  color: #ccc;
  cursor: not-allowed;
  text-decoration: line-through;
}
.calendar-day.other-month { color: #999; }
.calendar-day:focus {
  outline: 2px solid #0066cc;
  outline-offset: -2px;
  z-index: 1;
}

.calendar-footer {
  display: flex;
  justify-content: space-between;
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid #eee;
  gap: .5rem;
}
.calendar-today, .calendar-clear {
  padding: .5rem 1rem;
  border: 1px solid #ccc;
  border-radius: 4px;
  background: white;
  cursor: pointer;
  font-size: .875rem;
}
.calendar-today:hover, .calendar-clear:hover { background: #f0f0f0; }
```

**JS**
```js
(() => {
  const input = document.querySelector('.datepicker-input');
  const toggle = document.querySelector('.datepicker-toggle');
  const calendar = document.querySelector('.datepicker-calendar');
  const prevBtn = document.querySelector('.calendar-nav.prev');
  const nextBtn = document.querySelector('.calendar-nav.next');
  const monthSelect = document.querySelector('.month-select');
  const yearSelect = document.querySelector('.year-select');
  const daysContainer = document.querySelector('.calendar-days');
  const todayBtn = document.querySelector('.calendar-today');
  const clearBtn = document.querySelector('.calendar-clear');

  if (!input || !calendar) return;

  let currentDate = new Date();
  let selectedDate = null;
  let rangeStart = null;
  let rangeEnd = null;
  let focusedDayIndex = -1;

  const months = [
    'January', 'February', 'March', 'April', 'May', 'June',
    'July', 'August', 'September', 'October', 'November', 'December'
  ];

  // Initialize selectors
  function initSelectors() {
    months.forEach((month, idx) => {
      const option = document.createElement('option');
      option.value = idx;
      option.textContent = month;
      monthSelect.appendChild(option);
    });

    const currentYear = new Date().getFullYear();
    for (let year = currentYear - 50; year <= currentYear + 50; year++) {
      const option = document.createElement('option');
      option.value = year;
      option.textContent = year;
      yearSelect.appendChild(option);
    }
  }

  // Format date as YYYY-MM-DD
  function formatDate(date) {
    if (!date) return '';
    const y = date.getFullYear();
    const m = String(date.getMonth() + 1).padStart(2, '0');
    const d = String(date.getDate()).padStart(2, '0');
    return `${y}-${m}-${d}`;
  }

  // Check if date is today
  function isToday(date) {
    const today = new Date();
    return date.getDate() === today.getDate() &&
           date.getMonth() === today.getMonth() &&
           date.getFullYear() === today.getFullYear();
  }

  // Check if date is disabled (past dates)
  function isDisabled(date) {
    const today = new Date();
    today.setHours(0, 0, 0, 0);
    return date < today;
  }

  // Render calendar
  function renderCalendar() {
    const year = currentDate.getFullYear();
    const month = currentDate.getMonth();

    monthSelect.value = month;
    yearSelect.value = year;

    const firstDay = new Date(year, month, 1);
    const lastDay = new Date(year, month + 1, 0);
    const prevLastDay = new Date(year, month, 0);
    const firstDayIndex = firstDay.getDay();
    const lastDayIndex = lastDay.getDay();
    const nextDays = 7 - lastDayIndex - 1;

    daysContainer.innerHTML = '';
    let dayElements = [];

    // Previous month days
    for (let x = firstDayIndex; x > 0; x--) {
      const day = prevLastDay.getDate() - x + 1;
      const date = new Date(year, month - 1, day);
      dayElements.push(createDayElement(date, 'other-month'));
    }

    // Current month days
    for (let day = 1; day <= lastDay.getDate(); day++) {
      const date = new Date(year, month, day);
      dayElements.push(createDayElement(date));
    }

    // Next month days
    for (let day = 1; day <= nextDays; day++) {
      const date = new Date(year, month + 1, day);
      dayElements.push(createDayElement(date, 'other-month'));
    }

    dayElements.forEach(el => daysContainer.appendChild(el));
  }

  // Create day element
  function createDayElement(date, extraClass = '') {
    const day = document.createElement('button');
    day.className = 'calendar-day';
    day.textContent = date.getDate();
    day.setAttribute('role', 'gridcell');
    day.setAttribute('aria-label', formatDate(date));
    day.dataset.date = formatDate(date);

    if (extraClass) day.classList.add(extraClass);
    if (isToday(date)) day.classList.add('today');
    if (isDisabled(date)) {
      day.classList.add('disabled');
      day.disabled = true;
    }
    if (selectedDate && formatDate(date) === formatDate(selectedDate)) {
      day.classList.add('selected');
      day.setAttribute('aria-selected', 'true');
    }

    // Range selection support
    if (rangeStart && rangeEnd) {
      const dateTime = date.getTime();
      if (dateTime >= rangeStart.getTime() && dateTime <= rangeEnd.getTime()) {
        day.classList.add('in-range');
      }
    }

    day.addEventListener('click', () => selectDate(date));
    return day;
  }

  // Select date
  function selectDate(date) {
    if (isDisabled(date)) return;

    selectedDate = date;
    input.value = formatDate(date);
    renderCalendar();
    closeCalendar();
  }

  // Open calendar
  function openCalendar() {
    calendar.hidden = false;
    toggle.setAttribute('aria-expanded', 'true');
    renderCalendar();
  }

  // Close calendar
  function closeCalendar() {
    calendar.hidden = true;
    toggle.setAttribute('aria-expanded', 'false');
    focusedDayIndex = -1;
  }

  // Navigate with keyboard
  function handleKeyboard(e) {
    if (calendar.hidden) return;

    const days = Array.from(daysContainer.querySelectorAll('.calendar-day:not(.disabled)'));
    if (days.length === 0) return;

    if (focusedDayIndex === -1) focusedDayIndex = 0;

    switch(e.key) {
      case 'ArrowLeft':
        e.preventDefault();
        focusedDayIndex = Math.max(0, focusedDayIndex - 1);
        days[focusedDayIndex]?.focus();
        break;
      case 'ArrowRight':
        e.preventDefault();
        focusedDayIndex = Math.min(days.length - 1, focusedDayIndex + 1);
        days[focusedDayIndex]?.focus();
        break;
      case 'ArrowUp':
        e.preventDefault();
        focusedDayIndex = Math.max(0, focusedDayIndex - 7);
        days[focusedDayIndex]?.focus();
        break;
      case 'ArrowDown':
        e.preventDefault();
        focusedDayIndex = Math.min(days.length - 1, focusedDayIndex + 7);
        days[focusedDayIndex]?.focus();
        break;
      case 'Enter':
        e.preventDefault();
        days[focusedDayIndex]?.click();
        break;
      case 'Escape':
        e.preventDefault();
        closeCalendar();
        input.focus();
        break;
    }
  }

  // Event listeners
  toggle.addEventListener('click', () => {
    calendar.hidden ? openCalendar() : closeCalendar();
  });

  input.addEventListener('click', openCalendar);

  prevBtn.addEventListener('click', () => {
    currentDate.setMonth(currentDate.getMonth() - 1);
    renderCalendar();
  });

  nextBtn.addEventListener('click', () => {
    currentDate.setMonth(currentDate.getMonth() + 1);
    renderCalendar();
  });

  monthSelect.addEventListener('change', (e) => {
    currentDate.setMonth(parseInt(e.target.value));
    renderCalendar();
  });

  yearSelect.addEventListener('change', (e) => {
    currentDate.setFullYear(parseInt(e.target.value));
    renderCalendar();
  });

  todayBtn.addEventListener('click', () => {
    selectDate(new Date());
  });

  clearBtn.addEventListener('click', () => {
    selectedDate = null;
    rangeStart = null;
    rangeEnd = null;
    input.value = '';
    renderCalendar();
    closeCalendar();
  });

  document.addEventListener('keydown', handleKeyboard);

  // Close on outside click
  document.addEventListener('click', (e) => {
    if (!e.target.closest('.datepicker-wrapper')) {
      closeCalendar();
    }
  });

  // Initialize
  initSelectors();
})();
```
