---
title: タイムライン（縦・横両対応）
description: イベントの時系列表示。スクロールリビール統合。
tags: [timeline, vertical, horizontal, history]
frameworks: [Vanilla, Any]
level: intermediate
prompt_template: |
  目的: レスポンシブタイムラインの実装
  前提: Vanilla JS（任意のフレームワークに移植可）
  要件:
  - 縦タイムライン（デフォルト）
  - 横タイムライン（モバイル）
  - ドット + 線の視覚表現
  - 左右交互配置（縦の場合）
  - アイコン/日付/タイトル/説明
  - スクロールリビール統合
  - アクティブ状態のハイライト
  - レスポンシブ対応
  - アクセシビリティ（semantic HTML, ARIA）
  納品: コンポーネント+CSS+最小限のJS
---

import LiveDemo from '../../components/LiveDemo.astro';

<LiveDemo height="600px" html={`
<div class="timeline" role="list" aria-label="イベントタイムライン">
  <div class="timeline-item" data-reveal="fade-up" role="listitem">
    <div class="timeline-marker">
      <div class="timeline-icon">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/>
        </svg>
      </div>
    </div>
    <div class="timeline-content">
      <time class="timeline-date" datetime="2024-01-15">2024年1月</time>
      <h3 class="timeline-title">プロジェクト開始</h3>
      <p class="timeline-description">新規プロジェクトのキックオフミーティングを実施。</p>
    </div>
  </div>

  <div class="timeline-item" data-reveal="fade-up" role="listitem">
    <div class="timeline-marker">
      <div class="timeline-icon">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
        </svg>
      </div>
    </div>
    <div class="timeline-content">
      <time class="timeline-date" datetime="2024-03-20">2024年3月</time>
      <h3 class="timeline-title">デザイン完了</h3>
      <p class="timeline-description">UIデザインとプロトタイプが完成し、開発フェーズへ。</p>
    </div>
  </div>

  <div class="timeline-item timeline-item-active" data-reveal="fade-up" role="listitem">
    <div class="timeline-marker">
      <div class="timeline-icon">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>
        </svg>
      </div>
    </div>
    <div class="timeline-content">
      <time class="timeline-date" datetime="2024-06-10">2024年6月</time>
      <h3 class="timeline-title">開発中</h3>
      <p class="timeline-description">コア機能の実装が完了し、テストを実施中です。</p>
      <span class="timeline-badge">現在</span>
    </div>
  </div>

  <div class="timeline-item timeline-item-future" data-reveal="fade-up" role="listitem">
    <div class="timeline-marker">
      <div class="timeline-icon">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
        </svg>
      </div>
    </div>
    <div class="timeline-content">
      <time class="timeline-date" datetime="2024-12-01">2024年12月（予定）</time>
      <h3 class="timeline-title">正式リリース</h3>
      <p class="timeline-description">全ユーザー向けに正式版をリリース予定です。</p>
    </div>
  </div>
</div>
`} css={`
.timeline {
  position: relative;
  max-width: 800px;
  margin: 2rem auto;
  padding: 0 1rem;
}

.timeline::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 0;
  bottom: 0;
  width: 2px;
  background: linear-gradient(to bottom, transparent, #374151 10%, #374151 90%, transparent);
  transform: translateX(-50%);
}

.timeline-item {
  position: relative;
  margin-bottom: 2.5rem;
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 2rem;
  align-items: center;
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.6s ease, transform 0.6s ease;
}

.timeline-item.revealed {
  opacity: 1;
  transform: translateY(0);
}

.timeline-marker {
  grid-column: 2;
  position: relative;
  z-index: 2;
}

.timeline-icon {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: #1f2a37;
  border: 3px solid #374151;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #e5edf4;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  transition: transform 0.3s ease, border-color 0.3s ease;
}

.timeline-item.revealed .timeline-icon {
  transform: scale(1.1);
}

.timeline-content {
  background: #1f2a37;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
  border: 1px solid #374151;
  position: relative;
  transition: box-shadow 0.3s ease, transform 0.3s ease;
  cursor: pointer;
}

.timeline-content:hover {
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
  transform: translateY(-2px);
}

.timeline-item:nth-child(odd) .timeline-content {
  grid-column: 1;
  text-align: right;
}

.timeline-item:nth-child(even) .timeline-content {
  grid-column: 3;
  text-align: left;
}

.timeline-content::before {
  content: '';
  position: absolute;
  top: 50%;
  width: 0;
  height: 0;
  border: 10px solid transparent;
  transform: translateY(-50%);
}

.timeline-item:nth-child(odd) .timeline-content::before {
  right: -20px;
  border-left-color: #374151;
}

.timeline-item:nth-child(even) .timeline-content::before {
  left: -20px;
  border-right-color: #374151;
}

.timeline-date {
  display: block;
  font-size: 0.875rem;
  color: #60a5fa;
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.timeline-title {
  font-size: 1.125rem;
  font-weight: 700;
  color: #e5edf4;
  margin: 0 0 0.5rem 0;
}

.timeline-description {
  font-size: 0.875rem;
  color: #9ca3af;
  line-height: 1.6;
  margin: 0;
}

.timeline-item-active .timeline-icon {
  background: #60a5fa;
  border-color: #60a5fa;
  color: #0c1218;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(96, 165, 250, 0.7);
  }
  50% {
    box-shadow: 0 0 0 10px rgba(96, 165, 250, 0);
  }
}

.timeline-item-active .timeline-content {
  border-color: #60a5fa;
  background: linear-gradient(135deg, #1e3a5f 0%, #1f2a37 100%);
}

.timeline-badge {
  display: inline-block;
  margin-top: 0.5rem;
  padding: 0.25rem 0.75rem;
  background: #60a5fa;
  color: #0c1218;
  font-size: 0.75rem;
  font-weight: 600;
  border-radius: 12px;
}

.timeline-item-future .timeline-icon {
  border-style: dashed;
  background: #0c1218;
}

.timeline-item-future .timeline-content {
  opacity: 0.6;
}

@media (max-width: 768px) {
  .timeline::before {
    left: 24px;
  }

  .timeline-item {
    grid-template-columns: auto 1fr;
    gap: 1rem;
  }

  .timeline-marker {
    grid-column: 1;
  }

  .timeline-icon {
    width: 40px;
    height: 40px;
  }

  .timeline-icon svg {
    width: 16px;
    height: 16px;
  }

  .timeline-content {
    grid-column: 2;
    text-align: left;
  }

  .timeline-item:nth-child(odd) .timeline-content,
  .timeline-item:nth-child(even) .timeline-content {
    grid-column: 2;
    text-align: left;
  }

  .timeline-content::before {
    display: none;
  }
}
`} js={`
(() => {
  const root = document.currentScript?.closest('.card')?.querySelector('.timeline') || document.querySelector('.timeline');
  if (!root) return;

  const items = root.querySelectorAll('.timeline-item');

  const observerOptions = {
    root: null,
    rootMargin: '0px 0px -100px 0px',
    threshold: 0.2
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('revealed');
      }
    });
  }, observerOptions);

  items.forEach(item => {
    observer.observe(item);
  });

  items.forEach(item => {
    const content = item.querySelector('.timeline-content');
    if (!content) return;

    content.addEventListener('click', () => {
      items.forEach(i => i.classList.remove('timeline-item-active'));
      if (!item.classList.contains('timeline-item-future')) {
        item.classList.add('timeline-item-active');
      }
    });
  });
})();
`} />

## 実装コード

**HTML**
```html
<div class="timeline" role="list" aria-label="イベントタイムライン">
  <div class="timeline-item" data-reveal="fade-up" role="listitem">
    <div class="timeline-marker">
      <div class="timeline-icon">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
        </svg>
      </div>
    </div>
    <div class="timeline-content">
      <time class="timeline-date" datetime="2024-01-15">2024年1月15日</time>
      <h3 class="timeline-title">プロジェクト開始</h3>
      <p class="timeline-description">
        新規プロジェクトのキックオフミーティングを実施。チームメンバー全員が集まり、目標と方針を共有しました。
      </p>
    </div>
  </div>

  <div class="timeline-item" data-reveal="fade-up" role="listitem">
    <div class="timeline-marker">
      <div class="timeline-icon">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/>
        </svg>
      </div>
    </div>
    <div class="timeline-content">
      <time class="timeline-date" datetime="2024-03-20">2024年3月20日</time>
      <h3 class="timeline-title">デザインフェーズ完了</h3>
      <p class="timeline-description">
        UIデザインとプロトタイプが完成。クライアントからの承認を得て、開発フェーズへ移行しました。
      </p>
    </div>
  </div>

  <div class="timeline-item" data-reveal="fade-up" role="listitem">
    <div class="timeline-marker">
      <div class="timeline-icon">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>
        </svg>
      </div>
    </div>
    <div class="timeline-content">
      <time class="timeline-date" datetime="2024-06-10">2024年6月10日</time>
      <h3 class="timeline-title">開発マイルストーン達成</h3>
      <p class="timeline-description">
        コア機能の実装が完了。内部テストを開始し、バグフィックスと最適化を進めています。
      </p>
    </div>
  </div>

  <div class="timeline-item timeline-item-active" data-reveal="fade-up" role="listitem">
    <div class="timeline-marker">
      <div class="timeline-icon">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
        </svg>
      </div>
    </div>
    <div class="timeline-content">
      <time class="timeline-date" datetime="2024-09-01">2024年9月1日</time>
      <h3 class="timeline-title">ベータ版リリース</h3>
      <p class="timeline-description">
        限定ユーザー向けにベータ版を公開。フィードバックを収集し、最終調整を実施中です。
      </p>
      <span class="timeline-badge">現在</span>
    </div>
  </div>

  <div class="timeline-item timeline-item-future" data-reveal="fade-up" role="listitem">
    <div class="timeline-marker">
      <div class="timeline-icon">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
        </svg>
      </div>
    </div>
    <div class="timeline-content">
      <time class="timeline-date" datetime="2024-12-01">2024年12月1日（予定）</time>
      <h3 class="timeline-title">正式リリース</h3>
      <p class="timeline-description">
        全ユーザー向けに正式版をリリース予定。マーケティングキャンペーンも同時に開始します。
      </p>
    </div>
  </div>
</div>
```

**CSS**
```css
.timeline {
  position: relative;
  max-width: 1200px;
  margin: 3rem auto;
  padding: 0 1rem;
}

/* Vertical Line (Desktop) */
.timeline::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 0;
  bottom: 0;
  width: 2px;
  background: linear-gradient(to bottom, transparent, #e0e0e0 10%, #e0e0e0 90%, transparent);
  transform: translateX(-50%);
}

/* Timeline Item */
.timeline-item {
  position: relative;
  margin-bottom: 3rem;
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 2rem;
  align-items: center;
  opacity: 0;
  transform: translateY(30px);
  transition: opacity .6s ease, transform .6s ease;
}

.timeline-item.revealed {
  opacity: 1;
  transform: translateY(0);
}

@media (prefers-reduced-motion: reduce) {
  .timeline-item {
    opacity: 1;
    transform: none;
    transition: none;
  }
}

/* Marker (Center) */
.timeline-marker {
  grid-column: 2;
  position: relative;
  z-index: 2;
}

.timeline-icon {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: white;
  border: 3px solid #e0e0e0;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #666;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  transition: transform .3s ease, border-color .3s ease;
}

.timeline-item.revealed .timeline-icon {
  transform: scale(1.1);
}

/* Content */
.timeline-content {
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
  border: 1px solid #e0e0e0;
  position: relative;
  transition: box-shadow .3s ease, transform .3s ease;
}

.timeline-content:hover {
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.12);
  transform: translateY(-2px);
}

/* Alternate sides (Desktop) */
.timeline-item:nth-child(odd) .timeline-content {
  grid-column: 1;
  text-align: right;
}

.timeline-item:nth-child(even) .timeline-content {
  grid-column: 3;
  text-align: left;
}

/* Arrow */
.timeline-content::before {
  content: '';
  position: absolute;
  top: 50%;
  width: 0;
  height: 0;
  border: 10px solid transparent;
  transform: translateY(-50%);
}

.timeline-item:nth-child(odd) .timeline-content::before {
  right: -20px;
  border-left-color: #e0e0e0;
}

.timeline-item:nth-child(even) .timeline-content::before {
  left: -20px;
  border-right-color: #e0e0e0;
}

/* Date */
.timeline-date {
  display: block;
  font-size: .875rem;
  color: #0066cc;
  font-weight: 600;
  margin-bottom: .5rem;
}

/* Title */
.timeline-title {
  font-size: 1.25rem;
  font-weight: 700;
  color: #333;
  margin: 0 0 .75rem 0;
}

/* Description */
.timeline-description {
  font-size: .9375rem;
  color: #666;
  line-height: 1.6;
  margin: 0;
}

/* Active State */
.timeline-item-active .timeline-icon {
  background: #0066cc;
  border-color: #0066cc;
  color: white;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(0, 102, 204, 0.7);
  }
  50% {
    box-shadow: 0 0 0 10px rgba(0, 102, 204, 0);
  }
}

.timeline-item-active .timeline-content {
  border-color: #0066cc;
  background: linear-gradient(135deg, #f0f9ff 0%, white 100%);
}

.timeline-badge {
  display: inline-block;
  margin-top: .75rem;
  padding: .25rem .75rem;
  background: #0066cc;
  color: white;
  font-size: .75rem;
  font-weight: 600;
  border-radius: 12px;
}

/* Future State */
.timeline-item-future .timeline-icon {
  border-style: dashed;
  background: #f5f5f5;
}

.timeline-item-future .timeline-content {
  opacity: .7;
}

/* Mobile Layout */
@media (max-width: 768px) {
  .timeline::before {
    left: 24px;
  }

  .timeline-item {
    grid-template-columns: auto 1fr;
    gap: 1rem;
  }

  .timeline-marker {
    grid-column: 1;
  }

  .timeline-icon {
    width: 40px;
    height: 40px;
  }

  .timeline-icon svg {
    width: 16px;
    height: 16px;
  }

  .timeline-content {
    grid-column: 2;
    text-align: left;
  }

  .timeline-item:nth-child(odd) .timeline-content,
  .timeline-item:nth-child(even) .timeline-content {
    grid-column: 2;
    text-align: left;
  }

  .timeline-content::before {
    display: none;
  }
}

@media (prefers-reduced-motion: reduce) {
  .timeline-icon,
  .timeline-content {
    transition: none;
  }

  .timeline-item-active .timeline-icon {
    animation: none;
  }
}
```

**JS**
```js
(() => {
  const root = document.currentScript?.closest('.card')?.querySelector('.timeline') || document.querySelector('.timeline');
  if (!root) return;

  const items = root.querySelectorAll('.timeline-item');

  // Intersection Observer for scroll reveal
  const observerOptions = {
    root: null,
    rootMargin: '0px 0px -100px 0px',
    threshold: 0.2
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('revealed');
        // Don't unobserve to keep the revealed state
      }
    });
  }, observerOptions);

  // Observe all timeline items
  items.forEach(item => {
    observer.observe(item);
  });

  // Optional: Click to highlight
  items.forEach(item => {
    const content = item.querySelector('.timeline-content');
    if (!content) return;

    content.addEventListener('click', () => {
      // Remove active from others
      items.forEach(i => i.classList.remove('timeline-item-active'));
      // Add active to clicked item (unless it's future)
      if (!item.classList.contains('timeline-item-future')) {
        item.classList.add('timeline-item-active');
      }
    });
  });

  // Keyboard navigation
  root.setAttribute('tabindex', '0');

  root.addEventListener('keydown', (e) => {
    const activeIndex = Array.from(items).findIndex(item =>
      item.classList.contains('timeline-item-active')
    );

    let newIndex = activeIndex;

    if (e.key === 'ArrowDown' || e.key === 'ArrowRight') {
      newIndex = Math.min(activeIndex + 1, items.length - 1);
      e.preventDefault();
    } else if (e.key === 'ArrowUp' || e.key === 'ArrowLeft') {
      newIndex = Math.max(activeIndex - 1, 0);
      e.preventDefault();
    } else {
      return;
    }

    if (newIndex !== activeIndex && newIndex >= 0) {
      items.forEach(i => i.classList.remove('timeline-item-active'));
      items[newIndex].classList.add('timeline-item-active');
      items[newIndex].scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
  });

  // Cleanup
  window.timelineCleanup = () => {
    observer.disconnect();
  };
})();
```
